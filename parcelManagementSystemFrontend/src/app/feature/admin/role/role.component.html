<div class="max-w-3xl mx-auto mt-10">
  <h2 class="text-2xl font-bold mb-6 text-center text-gray-700">User List</h2>

  <div class="overflow-x-auto">
    <table class="w-full border border-gray-200 rounded-lg shadow-md">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-4 py-2 text-left text-sm font-medium text-gray-600">ID</th>
          <th class="px-4 py-2 text-left text-sm font-medium text-gray-600">Name</th>
          <th class="px-4 py-2 text-left text-sm font-medium text-gray-600">Email</th>
            <th class="px-4 py-2 text-left text-sm font-medium text-gray-600">Role</th>
          <th class="px-4 py-2 text-center text-sm font-medium text-gray-600">Actions</th>
        </tr>
      </thead>
      <tbody>
        @for ( user of users; track $index) {
        <tr  class="border-t hover:bg-gray-50">
          <td class="px-4 py-2 text-sm text-gray-700">{{ $index+1 }}</td>
          <td class="px-4 py-2 text-sm text-gray-700">{{ user.name }}</td>
          <td class="px-4 py-2 text-sm text-gray-700">{{ user.email }}</td>
          <td class="px-4 py-2 text-sm text-gray-700">{{ user.role }}</td>
          <td class="px-4 py-2 flex justify-center space-x-2">
            <button 
              (click)="openPopup(user.id)"
              class="bg-blue-500 text-white px-3 py-1 rounded-lg text-sm shadow hover:bg-blue-600"
            >
              Change Role
            </button>
          </td>
        </tr>}



      </tbody>
    </table>
  </div>

    @if (showPopup) {

        <div class="absolute top-[30%] left-[50%] bg-white p-6 rounded-lg shadow-lg w-fit h-fit">
            <!-- <h2 class=" text-xl font-semibold mb-4">Enter Otp for {{selecteditem.recipientName}}</h2>  -->
            <!-- <input type="text" placeholder="Enter value" [(ngModel)]="popupData.otp" class="border p-2 w-full mb-4 rounded" /> -->

            <select [(ngModel)]="popupData.role" class="border p-2 w-full mb-4 rounded">
                <option value="" disabled selected>Select Role</option>
                <option value="EMPLOYEE">EMPLOYEE</option>
                <option value="ADMIN">ADMIN</option>
                <option value="RECEPTIONIST">RECEPTIONIST</option>
              </select>
            <div class="flex justify-end space-x-2">
                <button class="bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500" (click)="closePopup()">
                    Cancel
                </button>
                <button class="bg-blue-500 text-white px-3 py-1 rounded hover:bg-green-600" (click)="submitPopup(popupData.role)">
                    Save
                </button>
            </div>
        </div>
    
}
</div>